<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Abase-Yourself</title>
  
  <subtitle>è¿·èŒ«çš„å¼•è·¯äººï¼›é£˜æ‘‡çš„é£å‘æ ‡ï¼›é€šé€çš„é¿é£æ¸¯ï¼›ç ´ç¢çš„ç™½æ—¥æ¢¦ã€‚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://baka99.com/"/>
  <updated>2020-04-21T04:18:19.838Z</updated>
  <id>https://baka99.com/</id>
  
  <author>
    <name>Life4Gal</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hello World</title>
    <link href="https://baka99.com/2020/04/20/hello-world/"/>
    <id>https://baka99.com/2020/04/20/hello-world/</id>
    <published>2020-04-21T04:18:19.834Z</published>
    <updated>2020-04-21T04:18:19.838Z</updated>
    
    <content type="html"><![CDATA[<p>äº‹å®è¯æ˜ï¼ŒWordPressä¸€ç‚¹ä¹Ÿä¸é¦™(å…¶å®æ˜¯æˆ‘è‡ªå·±å¤ªèœäº†)ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰å¤šä½™çš„æ—¶é—´ç®¡ç†ï¼Œä¸€ç›´æƒ³æ‰¾ä¸€ä¸ªè½»é‡ä¸€äº›çš„åšå®¢æ¡†æ¶å®‰å®‰å¿ƒå¿ƒçš„å†™ç‚¹æ–‡ç« ï¼Œç›´åˆ°æˆ‘é‡è§äº†<a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>ã€‚</p><p>ç½‘ä¸Šç”¨Hexoæ¶è®¾åšå®¢çš„æ•™ç¨‹éåœ°éƒ½æ˜¯ï¼Œè¿™é‡Œåªæ˜¯è®°å½•ä¸€ä¸‹è‡ªå·±æ­å»ºçš„è¿‡ç¨‹ã€‚</p><h2 id="å¼€å§‹å§"><a href="#å¼€å§‹å§" class="headerlink" title="å¼€å§‹å§"></a>å¼€å§‹å§</h2><h3 id="æˆ‘çš„ç³»ç»Ÿ"><a href="#æˆ‘çš„ç³»ç»Ÿ" class="headerlink" title="æˆ‘çš„ç³»ç»Ÿ"></a>æˆ‘çš„ç³»ç»Ÿ</h3><p><strong>è™šæ‹Ÿæœº: Ubuntu 19.10</strong><br><strong>è™šæ‹ŸåŒ–: VMWare</strong></p><a id="more"></a><h3 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h3><h4 id="å®‰è£…git"><a href="#å®‰è£…git" class="headerlink" title="å®‰è£…git"></a>å®‰è£…git</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install git-core</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…node-js"><a href="#å®‰è£…node-js" class="headerlink" title="å®‰è£…node.js"></a>å®‰è£…node.js</h4><p>æˆ‘æ˜¯åœ¨<a href="https://github.com/nodesource/distributions" target="_blank" rel="noopener">nodesource</a>å®‰è£…çš„ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±æƒ…å†µé€‰æ‹©å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ curl -sL https://deb.nodesource.com/setup_13.x | sudo -E bash -</span><br><span class="line">$ sudo apt-get install -y nodejs</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…Hexo"><a href="#å®‰è£…Hexo" class="headerlink" title="å®‰è£…Hexo"></a>å®‰è£…Hexo</h4><p>æœ€å¥½çš„æ•™ç¨‹å°±åœ¨<a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a><br>æˆ‘æ˜¯ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…çš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo npm install -g hexo-cli</span><br><span class="line">$ sudo npm install hexo-server --save</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨sudoæ˜¯å› ä¸ºæˆ‘è¿™é‡Œæœ‰æƒé™é—®é¢˜</p><h4 id="åˆ›å»ºåšå®¢"><a href="#åˆ›å»ºåšå®¢" class="headerlink" title="åˆ›å»ºåšå®¢"></a>åˆ›å»ºåšå®¢</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init blog<span class="comment"># åšå®¢çš„æ–‡ä»¶åä¸ºblog</span></span><br><span class="line">$ <span class="built_in">cd</span> blog</span><br><span class="line">$ npm install<span class="comment">#è¿›è¡Œå®‰è£…</span></span><br><span class="line">$ hexo server<span class="comment">#å¯åŠ¨</span></span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨è®¿é—® <a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a> å°±å¯ä»¥çœ‹åˆ°ä½ çš„æˆæœäº†</p><h4 id="é…ç½®ä¸»é¢˜"><a href="#é…ç½®ä¸»é¢˜" class="headerlink" title="é…ç½®ä¸»é¢˜"></a>é…ç½®ä¸»é¢˜</h4><p>è¿™é‡Œçš„é…ç½®æˆ‘æ˜¯å‚è€ƒ<a href="https://segmentfault.com/a/1190000005624504" target="_blank" rel="noopener">jsyzchen</a>çš„æ–‡ç« <br><del>åŸåˆ›ä¸åŸåˆ›æˆ‘ä¸çŸ¥é“ï¼Œæˆ‘å…ˆçœ‹åˆ°ä»–çš„é‚£ä»–å°±æ˜¯åŸåˆ›</del>ğŸ¤”ğŸ¤”ğŸ¤”</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> blog</span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/litten/hexo-theme-yilia.git themes/yilia<span class="comment">#ä¸‹è½½ä¸»é¢˜</span></span><br><span class="line">$ <span class="built_in">cd</span> themes/yilia</span><br><span class="line">$ git pull<span class="comment">#ä¹‹åæ›´æ–°ç”¨</span></span><br></pre></td></tr></table></figure><p>æ·»åŠ <a href="https://github.com/overtrue/share.js" target="_blank" rel="noopener">Share.js</a><br><del>æˆ‘åŸºæœ¬éƒ½ä¸ç”¨</del></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim syilia/_config.yml<span class="comment">#æˆ‘ç”¨çš„æ˜¯Ubuntuæ‰€ä»¥ç›´æ¥ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ”¹çš„</span></span><br></pre></td></tr></table></figure><p>ç«‹é‡Œé¢éƒ½æ˜¯ä¸­æ–‡,æ ¹æ®éœ€æ±‚è‡ªå·±æ”¹</p><p>æ‰¾åˆ° share_jia: false è¿™ä¸€è¡Œ,åœ¨ä¸‹é¢åŠ å…¥<br>share_addthis: false<br>share_social: true</p><p>ç¼–è¾‘yilia/layout/_partial/head.ejsæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim syilia/layout/_partial/head.ejs<span class="comment">#æˆ‘ç”¨çš„æ˜¯Ubuntuæ‰€ä»¥ç›´æ¥ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ”¹çš„</span></span><br></pre></td></tr></table></figure><p>åŠ å…¥ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.share_social)&#123; %&gt;</span><br><span class="line">&lt;%- css(&#39;https:&#x2F;&#x2F;cdnjs.cloudflare.com&#x2F;ajax&#x2F;libs&#x2F;social-share.js&#x2F;1.0.13&#x2F;css&#x2F;share.min&#39;) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p><del>åŠ åœ¨é‚£é‡Œ?é‚£ä¸æ˜¯ä¸€å †å·®ä¸å¤šæ ¼å¼çš„ä»£ç ä¹ˆ</del></p><p>è¿›å…¥yilia/layout/_partial/postç›®å½•ï¼Œæ·»åŠ share_social.ejsæ–‡ä»¶,ä»£ç å¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style&#x3D;&quot;padding:0 40px 10px;&quot;&gt;</span><br><span class="line">&lt;!-- social-share Button BEGIN --&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;social-share&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdnjs.cloudflare.com&#x2F;ajax&#x2F;libs&#x2F;social-share.js&#x2F;1.0.15&#x2F;js&#x2F;social-share.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;!-- social-share Button END --&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘yilia/layout/_partial/article.ejsæ–‡ä»¶ï¼Œæ‰¾åˆ°theme.share_jiaçš„ä½ç½®ï¼ŒæŠŠåŠ è½½social-shareçš„ä»£ç æ”¾åœ¨ä¸ä»–ä»¬åŒçº§çš„ä½ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (!index &amp;&amp; theme.share_social)&#123; %&gt;</span><br><span class="line">&lt;%- partial(&#39;post&#x2F;share_social&#39;) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h4 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h4><p><del>è¿™é‡Œå‡å®šä½ æœ‰ä¸€ä¸ªGithubè´¦å·</del><br>å…ˆç”Ÿæˆä¸€ä¸ª <code>SSH key</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"Githubçš„æ³¨å†Œé‚®ç®±åœ°å€"</span></span><br></pre></td></tr></table></figure><p>ä¸€è·¯å›è½¦ä¸ç”¨ç®¡<br>é»˜è®¤ç”Ÿæˆä½ç½®æ˜¯ /home/ä½ çš„ç”¨æˆ·å/.ssh/ æ²¡çœ‹åˆ°è®°çš„æ‰“å¼€æ˜¾ç¤ºéšè—æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /home/ä½ çš„ç”¨æˆ·å/.ssh/id_rsa.pub<span class="comment">#æˆ‘ç”¨çš„æ˜¯Ubuntuæ‰€ä»¥ç›´æ¥ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ”¹çš„</span></span><br></pre></td></tr></table></figure><p><strong>å…¨éƒ¨å¤åˆ¶ä¸‹æ¥</strong></p><p>è®¿é—® <strong>GitHub â€“ Settings â€“ SSH and GPG keys â€“ New SSH key</strong><br><code>Title</code>æƒ³å†™ä»€ä¹ˆå†™ä»€ä¹ˆ <code>Key</code>æŠŠåˆšæ‰å¤åˆ¶çš„å†…å®¹å¤åˆ¶è¿›å»</p><p>ä¿®æ”¹åšå®¢æ–‡ä»¶blogæ ¹ç›®å½•çš„<code>_config.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">repo:</span> <span class="string">git@github.com:username/username.github.io.git</span></span><br><span class="line"><span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>éƒ¨ç½²åˆ°GitHubä¸Š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br><span class="line">$ hexo g</span><br><span class="line">$ hexo d</span><br></pre></td></tr></table></figure><p>è®¿é—® <a href="https://username.github.io/" target="_blank" rel="noopener">https://username.github.io/</a> æŸ¥çœ‹ä½ çš„æˆæœ</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;äº‹å®è¯æ˜ï¼ŒWordPressä¸€ç‚¹ä¹Ÿä¸é¦™(å…¶å®æ˜¯æˆ‘è‡ªå·±å¤ªèœäº†)ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰å¤šä½™çš„æ—¶é—´ç®¡ç†ï¼Œä¸€ç›´æƒ³æ‰¾ä¸€ä¸ªè½»é‡ä¸€äº›çš„åšå®¢æ¡†æ¶å®‰å®‰å¿ƒå¿ƒçš„å†™ç‚¹æ–‡ç« ï¼Œç›´åˆ°æˆ‘é‡è§äº†&lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç½‘ä¸Šç”¨Hexoæ¶è®¾åšå®¢çš„æ•™ç¨‹éåœ°éƒ½æ˜¯ï¼Œè¿™é‡Œåªæ˜¯è®°å½•ä¸€ä¸‹è‡ªå·±æ­å»ºçš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¼€å§‹å§&quot;&gt;&lt;a href=&quot;#å¼€å§‹å§&quot; class=&quot;headerlink&quot; title=&quot;å¼€å§‹å§&quot;&gt;&lt;/a&gt;å¼€å§‹å§&lt;/h2&gt;&lt;h3 id=&quot;æˆ‘çš„ç³»ç»Ÿ&quot;&gt;&lt;a href=&quot;#æˆ‘çš„ç³»ç»Ÿ&quot; class=&quot;headerlink&quot; title=&quot;æˆ‘çš„ç³»ç»Ÿ&quot;&gt;&lt;/a&gt;æˆ‘çš„ç³»ç»Ÿ&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;è™šæ‹Ÿæœº: Ubuntu 19.10&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;è™šæ‹ŸåŒ–: VMWare&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="åšå®¢è®°å½•" scheme="https://baka99.com/categories/%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95/"/>
    
    
      <category term="hello-world" scheme="https://baka99.com/tags/hello-world/"/>
    
  </entry>
  
  <entry>
    <title>ç±»æ¨¡æ¿</title>
    <link href="https://baka99.com/2020/04/20/%E7%B1%BB%E6%A8%A1%E6%9D%BF/"/>
    <id>https://baka99.com/2020/04/20/%E7%B1%BB%E6%A8%A1%E6%9D%BF/</id>
    <published>2020-04-21T04:18:10.673Z</published>
    <updated>2020-04-21T04:18:10.677Z</updated>
    
    <content type="html"><![CDATA[<h1 id="C-æœ‰å…³ç±»æ¨¡æ¿çš„ä¸€äº›ç¬”è®°"><a href="#C-æœ‰å…³ç±»æ¨¡æ¿çš„ä¸€äº›ç¬”è®°" class="headerlink" title="C++æœ‰å…³ç±»æ¨¡æ¿çš„ä¸€äº›ç¬”è®°"></a>C++æœ‰å…³ç±»æ¨¡æ¿çš„ä¸€äº›ç¬”è®°</h1><h2 id="ç±»æ¨¡æ¿ç¤ºä¾‹"><a href="#ç±»æ¨¡æ¿ç¤ºä¾‹" class="headerlink" title="ç±»æ¨¡æ¿ç¤ºä¾‹"></a>ç±»æ¨¡æ¿ç¤ºä¾‹</h2><a id="more"></a><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="class"><span class="keyword">class</span> <span class="title">Container</span> = <span class="title">std</span>:</span>:<span class="built_in">deque</span>&lt;T&gt;&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myStack</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">using</span> value_type = <span class="keyword">typename</span> Container::value_type;</span><br><span class="line"><span class="keyword">using</span> reference = <span class="keyword">typename</span> Container::reference;</span><br><span class="line"><span class="keyword">using</span> const_reference = <span class="keyword">typename</span> Container::const_reference;</span><br><span class="line"><span class="keyword">using</span> size_type = <span class="keyword">typename</span> Container::size_type;</span><br><span class="line"><span class="keyword">using</span> container_type = Container;</span><br><span class="line"></span><br><span class="line">myStack() = <span class="keyword">default</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">explicit</span> <span class="title">myStack</span><span class="params">(<span class="keyword">const</span> container_type&amp; container)</span> : <span class="title">c</span><span class="params">(container)</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">explicit</span> <span class="title">myStack</span><span class="params">(container_type&amp;&amp; container)</span> <span class="keyword">noexcept</span> : <span class="title">c</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">move</span>(container))</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">explicit</span> <span class="title">myStack</span><span class="params">(<span class="keyword">const</span> myStack&lt;value_type&gt;&amp; other)</span> : <span class="title">c</span><span class="params">(other.c)</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">explicit</span> <span class="title">myStack</span><span class="params">(myStack&lt;value_type&gt;&amp;&amp; other)</span> <span class="keyword">noexcept</span> : <span class="title">c</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">move</span>(other.c))</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">[[nodiscard]] <span class="function"><span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="keyword">const</span> <span class="keyword">noexcept</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> c.empty();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[[nodiscard]] <span class="function">size_type <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> <span class="keyword">noexcept</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> c.<span class="built_in">size</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[[nodiscard]] <span class="function">reference <span class="title">top</span><span class="params">()</span> <span class="keyword">noexcept</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> c.back();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[[nodiscard]] <span class="function">const_reference <span class="title">top</span><span class="params">()</span> <span class="keyword">const</span> <span class="keyword">noexcept</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> c.back();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">const</span> value_type&amp; val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">c.push_back(val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(value_type&amp;&amp; val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">c.push_back(<span class="built_in">std</span>::<span class="built_in">move</span>(val));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> ... val_type&gt;</span><br><span class="line"><span class="function"><span class="keyword">decltype</span>(<span class="keyword">auto</span>) <span class="title">emplace</span><span class="params">(val_type&amp;&amp;... val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> c.emplace_back(<span class="built_in">std</span>::forward&lt;val_type&gt;(val)...);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> <span class="keyword">noexcept</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">c.pop_back();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(myStack&amp; other)</span> <span class="keyword">noexcept</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">std</span>::swap(c, other.c);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[[nodiscard]] <span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp; lhs, <span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp; rhs)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> lhs.c == rhs.c;</span><br><span class="line">&#125;</span><br><span class="line">[[nodiscard]] <span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp; lhs, <span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp; rhs)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> !<span class="keyword">operator</span>==(<span class="built_in">std</span>::forward&lt;<span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp;&gt;(lhs), <span class="built_in">std</span>::forward&lt;<span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp;&gt;(rhs));</span><br><span class="line">&#125;</span><br><span class="line">[[nodiscard]] <span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp; lhs, <span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp; rhs)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> lhs.c &lt; rhs.c;</span><br><span class="line">&#125;</span><br><span class="line">[[nodiscard]] <span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;=(<span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp; lhs, <span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp; rhs)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> lhs.c &lt;= rhs.c;</span><br><span class="line">&#125;</span><br><span class="line">[[nodiscard]] <span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp; lhs, <span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp; rhs)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> !<span class="keyword">operator</span>&lt;=(<span class="built_in">std</span>::forward&lt;<span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp;&gt;(lhs), <span class="built_in">std</span>::forward&lt;<span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp;&gt;(rhs));</span><br><span class="line">&#125;</span><br><span class="line">[[nodiscard]] <span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;=(<span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp; lhs, <span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp; rhs)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> !<span class="keyword">operator</span>&lt;(<span class="built_in">std</span>::forward&lt;<span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp;&gt;(lhs), <span class="built_in">std</span>::forward&lt;<span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp;&gt;(rhs));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    container_type c&#123;&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ¨¡æ¿ä½¿ç”¨"><a href="#æ¨¡æ¿ä½¿ç”¨" class="headerlink" title="æ¨¡æ¿ä½¿ç”¨"></a>æ¨¡æ¿ä½¿ç”¨</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">myStack&lt;<span class="keyword">int</span>&gt; int_stack;</span><br><span class="line">int_stack.push(<span class="number">42</span>);</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; int_stack.top() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">myStack&lt;<span class="built_in">std</span>::<span class="built_in">string</span>&gt; str_stack;</span><br><span class="line">str_stack.push(<span class="string">"42"</span>);</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; str_stack.top() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure><ul><li><p>æ¨¡æ¿çš„å‚æ•°ç±»å‹å¯ä»¥æ˜¯ä»»ä½•ç±»å‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">myStack&lt;<span class="keyword">double</span>&gt; double_stack;</span><br><span class="line">myStack&lt;<span class="keyword">double</span>*&gt; double_ptr_stack;</span><br></pre></td></tr></table></figure></li><li><p>æˆå‘˜å‡½æ•°åªæœ‰<strong>è¢«è°ƒç”¨æ—¶</strong>æ‰ä¼šå®ä¾‹åŒ–</p></li><li><p>å¦‚æœæ¨¡æ¿ç±»å«æœ‰ <strong>static</strong>æ•°æ®ï¼Œåªæœ‰ä¸¤ä¸ªç±»å‹ç›¸åŒçš„æ¨¡æ¿å®ä¾‹æ‰ä¼šå…±äº«åŒä¸€ä¸ª<strong>static</strong>æ•°æ®</p></li><li><p>æ¨¡æ¿æˆå‘˜å‡½æ•°åªæœ‰åœ¨è°ƒç”¨æ—¶æ‰ä¼šå®ä¾‹åŒ–ï¼Œæ‰€ä»¥å³ä½¿æœ‰çš„ç±»å‹ä¸æ”¯æŒæ¨¡æ¿çš„æŸäº›æ“ä½œï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ¨¡æ¿</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‡è®¾myStackæœ‰ä¸ªprintå‡½æ•°ï¼ŒæŠŠå®¹å™¨é‡Œçš„å…ƒç´ å…¨éƒ¨è¾“å‡º</span></span><br><span class="line">[[nodiscard]] <span class="function"><span class="built_in">std</span>::ostream&amp; <span class="title">print</span><span class="params">(<span class="built_in">std</span>::ostream&amp; os)</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; ele : c)</span><br><span class="line">    &#123;</span><br><span class="line">        os &lt;&lt; ele;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å³ä½¿å…ƒç´ ç±»å‹ä¸æ”¯æŒè¿™æ ·æ“ä½œï¼Œä½†æ˜¯ä¾æ—§å¯ä»¥ä½¿ç”¨è¯¥æ¨¡æ¿</span></span><br><span class="line">myStack&lt;<span class="built_in">std</span>::pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; pair_stack;</span><br><span class="line">pair_stack.push(<span class="built_in">std</span>::make_pair(<span class="number">1</span>, <span class="number">42</span>));<span class="comment">// æ²¡é—®é¢˜</span></span><br><span class="line">pair_stack.<span class="built_in">print</span>();<span class="comment">// ä¸¥é‡é”™è¯¯ï¼Œæ²¡æœ‰é’ˆå¯¹pairç±»å‹çš„&lt;&lt;çš„æ“ä½œ</span></span><br></pre></td></tr></table></figure><ul><li><p>ä¸€ä¸ªæ›´å¸¸è§çš„è¾“å‡ºæ–¹æ³•æ˜¯å®ç°å‹å…ƒ,ç„¶åæŠŠprint()å®šä¹‰ä¸ºç§æœ‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">friend</span> <span class="built_in">std</span>::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream&amp; os, <span class="keyword">const</span> myStack&lt;value_type, container_type&gt;&amp; <span class="built_in">stack</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">stack</span>.<span class="built_in">print</span>(os);</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h2 id="æ¨¡æ¿ç‰¹ä¾‹åŒ–"><a href="#æ¨¡æ¿ç‰¹ä¾‹åŒ–" class="headerlink" title="æ¨¡æ¿ç‰¹ä¾‹åŒ–"></a>æ¨¡æ¿ç‰¹ä¾‹åŒ–</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myStack</span>&lt;std::string, std::vector&lt;std::string&gt;&gt;</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">using</span> value_type = <span class="keyword">typename</span> <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">string</span>&gt;::value_type;</span><br><span class="line">    <span class="keyword">using</span> reference = <span class="keyword">typename</span> <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">string</span>&gt;::reference;</span><br><span class="line">    <span class="keyword">using</span> const_reference = <span class="keyword">typename</span> <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">string</span>&gt;::const_reference;</span><br><span class="line">    <span class="keyword">using</span> size_type = <span class="keyword">typename</span> <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">string</span>&gt;::size_type;</span><br><span class="line">    <span class="keyword">using</span> container_type = <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">string</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    container_type c&#123;&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>æ¨¡æ¿ç‰¹ä¾‹åŒ–çš„ç”¨äºé’ˆå¯¹æŸäº›ç±»å‹è¿›è¡Œç‹¬æœ‰çš„æ“ä½œ</li></ul><h3 id="æ¨¡æ¿åç‰¹åŒ–"><a href="#æ¨¡æ¿åç‰¹åŒ–" class="headerlink" title="æ¨¡æ¿åç‰¹åŒ–"></a>æ¨¡æ¿åç‰¹åŒ–</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myStack</span>&lt;T*&gt;</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">using</span> value_type = <span class="keyword">typename</span> <span class="built_in">std</span>::<span class="built_in">deque</span>&lt;T*&gt;::value_type;</span><br><span class="line"><span class="keyword">using</span> reference = <span class="keyword">typename</span> <span class="built_in">std</span>::<span class="built_in">deque</span>&lt;T*&gt;::reference;</span><br><span class="line"><span class="keyword">using</span> const_reference = <span class="keyword">typename</span> <span class="built_in">std</span>::<span class="built_in">deque</span>&lt;T*&gt;::const_reference;</span><br><span class="line"><span class="keyword">using</span> size_type = <span class="keyword">typename</span> <span class="built_in">std</span>::<span class="built_in">deque</span>&lt;T*&gt;::size_type;</span><br><span class="line"><span class="keyword">using</span> container_type = <span class="built_in">std</span>::<span class="built_in">deque</span>&lt;T*&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">container_type c&#123;&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>æ¨¡æ¿åç‰¹åŒ–å¹¶ä¸ç‰¹ä¾‹åŒ–æŸç§ç±»å‹ï¼Œåªæ˜¯ç‰¹åˆ«æŒ‡å®šå®ä¾‹åŒ–ä¸ºè¯¥ç±»å‹çš„æŒ‡é’ˆ</li></ul><h3 id="å¤šä¸ªæ³›å‹çš„æ¨¡æ¿ç±»"><a href="#å¤šä¸ªæ³›å‹çš„æ¨¡æ¿ç±»" class="headerlink" title="å¤šä¸ªæ³›å‹çš„æ¨¡æ¿ç±»"></a>å¤šä¸ªæ³›å‹çš„æ¨¡æ¿ç±»</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myPair</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">std</span>::pair&lt;T1, T2&gt; p;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myPair</span>&lt;T, int&gt;</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">std</span>::pair&lt;T, <span class="keyword">int</span>&gt; p;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myPair</span>&lt;int, int&gt;</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">std</span>::pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; p;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myPair</span>&lt;std::string, T&gt;</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">std</span>::pair&lt;<span class="built_in">std</span>::<span class="built_in">string</span>, T&gt; p;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myPair</span>&lt;T, T&gt;</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">std</span>::pair&lt;T, T&gt; p;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myPair</span>&lt;T1*, T2*&gt;</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">std</span>::pair&lt;T1*, T2*&gt; p;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li><p>å¯ä»¥é€‰æ‹©å¯¹ä»»æ„ä¸€ä¸ªæ³›å‹è¿›è¡Œå…¨ç‰¹åŒ–æˆ–æ˜¯åç‰¹åŒ–ï¼Œç¼–è¯‘å™¨æ€»ä¼šæ‰¾åˆ°é‚£ä¸ª<strong>æœ€ç‰¹ä¾‹åŒ–</strong>çš„æ¨¡æ¿åº”ç”¨(æœ‰äº›ç¼–è¯‘å™¨å¯èƒ½ä¼šæŠ¥äºŒä¹‰æ€§)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">myPair&lt;<span class="keyword">int</span>, <span class="keyword">double</span>&gt; id_pair;<span class="comment">// myPair&lt;T1, T2&gt;</span></span><br><span class="line">myPair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; ii_pair;<span class="comment">// myPair&lt;int, int&gt;ï¼Œå³ä½¿myPair&lt;T, int&gt;å¯è§</span></span><br><span class="line">myPair&lt;<span class="built_in">std</span>::<span class="built_in">string</span>, <span class="keyword">int</span>&gt; si_pair;<span class="comment">// myPair&lt;T, int&gt;ï¼Œå› ä¸ºè¿™ä¸ªæ¨¡æ¿åœ¨ myPair&lt;std::string, T&gt; å‰å¯è§</span></span><br><span class="line">myPair&lt;<span class="built_in">std</span>::<span class="built_in">string</span>, <span class="keyword">double</span>&gt; sd_pair;<span class="comment">// myPair&lt;std::string, T&gt;</span></span><br><span class="line">myPair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt; cc_pair;<span class="comment">// myPair&lt;T, T&gt;</span></span><br><span class="line">myPair&lt;<span class="keyword">int</span>*, <span class="keyword">double</span>*&gt; ipdp_pair;<span class="comment">// myPair&lt;T1*, T2*&gt;</span></span><br><span class="line">myPair&lt;<span class="keyword">int</span>*, <span class="keyword">int</span>*&gt; ipip_pair;<span class="comment">// myPair&lt;T, T&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="æ¨¡æ¿ç±»å‹æ¨æ–­"><a href="#æ¨¡æ¿ç±»å‹æ¨æ–­" class="headerlink" title="æ¨¡æ¿ç±»å‹æ¨æ–­"></a>æ¨¡æ¿ç±»å‹æ¨æ–­</h2><ul><li>C++17å¼€å§‹å¦‚æœæ„é€ å‡½æ•°å¯ä»¥æ¨æ–­å‡ºæ‰€æœ‰æ¨¡æ¿å‚æ•°ï¼Œå°±ä¸éœ€è¦æ˜¾å¼æŒ‡å®šæ¨¡æ¿å‚æ•°</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">myStack&lt;<span class="keyword">int</span>&gt; int_stack;</span><br><span class="line"><span class="function">myStack <span class="title">ref_stack</span><span class="params">(int_stack)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ myStack ä¸­åŠ å…¥è¿™ä¸ªæ„é€ å‡½æ•°(æ³¨æ„å¿…é¡»æ˜¯Tè€Œä¸èƒ½æ˜¯ value_typeï¼Œ å› ä¸ºæ²¡æ¨æ–­å‡ºTä¹‹å‰ value_type æ˜¯æœªçŸ¥çš„)</span></span><br><span class="line"><span class="function"><span class="keyword">explicit</span> <span class="title">myStack</span><span class="params">(<span class="keyword">const</span> T&amp; val)</span> : <span class="title">c</span><span class="params">(&#123; val &#125;)</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">myStack <span class="title">ded_stack</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨æ„ä¼ å­—ç¬¦å­—é¢é‡ä¼šå‡ºç°éº»çƒ¦</span></span><br><span class="line"><span class="function">myStack <span class="title">char_stack</span><span class="params">(<span class="string">"42"</span>)</span></span>;<span class="comment">// myStack&lt;char[3]&gt;</span></span><br><span class="line"><span class="comment">// å°†ä¸Šé¢çš„æ„é€ å‡½æ•°æ”¹ä¸º(ä¸¤ä¸ªæ„é€ å‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªï¼Œä¸ç„¶æ— æ³•æ¨æ–­)</span></span><br><span class="line"><span class="function"><span class="keyword">explicit</span> <span class="title">myStack</span><span class="params">(T val)</span> : <span class="title">c</span><span class="params">(&#123; val &#125;)</span> </span>&#123;&#125;</span><br><span class="line"><span class="comment">// æ­¤æ—¶å¯ä»¥æ­£ç¡®æŠŠå­—ç¬¦å­—é¢é‡æ¨æ–­ä¸º const char*</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ—¢ç„¶æ˜¯ä¼ å€¼é‚£å½“ç„¶æ˜¯ä½¿ç”¨ move æ¥é¿å…ä¸å¿…è¦çš„æ‹·è´</span></span><br><span class="line"><span class="function"><span class="keyword">explicit</span> <span class="title">myStack</span><span class="params">(T val)</span> : <span class="title">c</span><span class="params">(&#123; <span class="built_in">std</span>::<span class="built_in">move</span>(val) &#125;)</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœæˆ‘å°±æ˜¯æƒ³ç”¨å¼•ç”¨çš„æ„é€ æ€ä¹ˆåŠå‘¢ï¼ŸC++17æ–°å¼•å…¥äº†<strong>deduction guide</strong>å…è®¸ç”¨æˆ·æŒ‡å®šæŸä¸ªç±»å‹å®ä¾‹åŒ–çš„å®é™…ç±»å‹</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™ä¸ªæ”¾åœ¨ç±»é‡Œé¢</span></span><br><span class="line"><span class="function"><span class="keyword">explicit</span> <span class="title">myStack</span><span class="params">(<span class="keyword">const</span> T&amp; val)</span> : <span class="title">c</span><span class="params">(&#123; val &#125;)</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸‹é¢ä¸¤ä¸ªæ”¾åœ¨ç±»å¤–é¢</span></span><br><span class="line">myStack(<span class="keyword">const</span> <span class="keyword">char</span>*)-&gt;myStack&lt;<span class="built_in">std</span>::<span class="built_in">string</span>&gt;;</span><br><span class="line">myStack(<span class="keyword">char</span>[])-&gt;myStack&lt;<span class="built_in">std</span>::<span class="built_in">string</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸Šé¢ä¸¤ä¸ªå¦‚æœæ”¾åœ¨ç±»é‡Œé¢ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="comment">// myStack(const char*)-&gt;myStack&lt;std::string&gt;;å¹¶æ²¡æœ‰å®ç°æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="comment">// myStack(const char* str)-&gt;myStack&lt;std::string&gt; : c(&#123;str&#125;) &#123;&#125; ä¼šå’Œ explicit myStack(const T&amp; val) : c(&#123; val &#125;) &#123;&#125; äº§ç”ŸäºŒä¹‰æ€§</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­¤æ—¶åœ¨æ„é€  myStack å°±å¯ä»¥ä¸å†™å‚æ•°</span></span><br><span class="line"><span class="function">myStack <span class="title">int_stack</span><span class="params">(<span class="number">1</span>)</span></span>;<span class="comment">// myStack int_stack&#123;1&#125;; ä¹Ÿä¸€æ ·</span></span><br><span class="line"><span class="function">myStack <span class="title">string_stack</span><span class="params">(<span class="string">"42"</span>)</span></span>;<span class="comment">// ä¸å†æ˜¯ myStack&lt;char[3]&gt; è€Œæ˜¯ myStack&lt;std::string&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ç»“æ„ä½“æ¨¡æ¿åŒ–"><a href="#ç»“æ„ä½“æ¨¡æ¿åŒ–" class="headerlink" title="ç»“æ„ä½“æ¨¡æ¿åŒ–"></a>ç»“æ„ä½“æ¨¡æ¿åŒ–</h2><ul><li>ç»“æ„ä½“ä¹Ÿèƒ½ä½œä¸ºæ¨¡æ¿(å®é™…ä¸Šå¯¹äºèƒ½åœ¨classä¸Šä½¿ç”¨çš„æ–¹æ³•å¯¹structä¸€æ ·é€‚ç”¨)</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Foo</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">T val&#123;&#125;;</span><br><span class="line"><span class="keyword">int</span> i&#123;&#125;;</span><br><span class="line"></span><br><span class="line">Foo() = <span class="keyword">default</span>;</span><br><span class="line"></span><br><span class="line">explicit Foo(const T&amp; v, int _i) : val(v), i(_i) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Foo&lt;<span class="keyword">int</span>&gt; foo1;</span><br><span class="line">foo1.val = <span class="number">42</span>;</span><br><span class="line">foo1.i = <span class="number">42</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">Foo <span class="title">foo2</span><span class="params">(<span class="number">42</span>, <span class="number">42</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹classçš„å…¶ä»–æ“ä½œä¹Ÿå¯ä»¥å¯¹structä½¿ç”¨</span></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure><ul><li><del>å¯¹äºC++æ¥è¯´ï¼Œstructç»“æ„ä½“ä¸classç±»çš„å”¯ä¸€å·®åˆ«å°±æ˜¯æˆå‘˜çš„é»˜è®¤è®¿é—®æƒé™</del></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;C-æœ‰å…³ç±»æ¨¡æ¿çš„ä¸€äº›ç¬”è®°&quot;&gt;&lt;a href=&quot;#C-æœ‰å…³ç±»æ¨¡æ¿çš„ä¸€äº›ç¬”è®°&quot; class=&quot;headerlink&quot; title=&quot;C++æœ‰å…³ç±»æ¨¡æ¿çš„ä¸€äº›ç¬”è®°&quot;&gt;&lt;/a&gt;C++æœ‰å…³ç±»æ¨¡æ¿çš„ä¸€äº›ç¬”è®°&lt;/h1&gt;&lt;h2 id=&quot;ç±»æ¨¡æ¿ç¤ºä¾‹&quot;&gt;&lt;a href=&quot;#ç±»æ¨¡æ¿ç¤ºä¾‹&quot; class=&quot;headerlink&quot; title=&quot;ç±»æ¨¡æ¿ç¤ºä¾‹&quot;&gt;&lt;/a&gt;ç±»æ¨¡æ¿ç¤ºä¾‹&lt;/h2&gt;
    
    </summary>
    
    
      <category term="CPP-æ¨¡æ¿" scheme="https://baka99.com/categories/CPP-%E6%A8%A1%E6%9D%BF/"/>
    
    
      <category term="CPP-ç±»æ¨¡æ¿" scheme="https://baka99.com/tags/CPP-%E7%B1%BB%E6%A8%A1%E6%9D%BF/"/>
    
  </entry>
  
  <entry>
    <title>å‡½æ•°æ¨¡æ¿</title>
    <link href="https://baka99.com/2020/04/20/%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF/"/>
    <id>https://baka99.com/2020/04/20/%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF/</id>
    <published>2020-04-21T04:18:03.529Z</published>
    <updated>2020-04-21T04:18:03.533Z</updated>
    
    <content type="html"><![CDATA[<h1 id="C-æœ‰å…³å‡½æ•°æ¨¡æ¿çš„ä¸€äº›ç¬”è®°"><a href="#C-æœ‰å…³å‡½æ•°æ¨¡æ¿çš„ä¸€äº›ç¬”è®°" class="headerlink" title="C++æœ‰å…³å‡½æ•°æ¨¡æ¿çš„ä¸€äº›ç¬”è®°"></a>C++æœ‰å…³å‡½æ•°æ¨¡æ¿çš„ä¸€äº›ç¬”è®°</h1><h2 id="æ¨¡æ¿å®å‚æ¨æ–­"><a href="#æ¨¡æ¿å®å‚æ¨æ–­" class="headerlink" title="æ¨¡æ¿å®å‚æ¨æ–­"></a>æ¨¡æ¿å®å‚æ¨æ–­</h2><a id="more"></a><h3 id="æ¨¡æ¿å‚æ•°ä¸å…è®¸éšå¼è½¬æ¢ï¼Œè¿™è¡¨ç¤ºä½ å¿…é¡»ä¿è¯ä½ ä¼ å…¥æ¨¡æ¿å‡½æ•°çš„å‚æ•°å¿…é¡»åŒ¹é…"><a href="#æ¨¡æ¿å‚æ•°ä¸å…è®¸éšå¼è½¬æ¢ï¼Œè¿™è¡¨ç¤ºä½ å¿…é¡»ä¿è¯ä½ ä¼ å…¥æ¨¡æ¿å‡½æ•°çš„å‚æ•°å¿…é¡»åŒ¹é…" class="headerlink" title="æ¨¡æ¿å‚æ•°ä¸å…è®¸éšå¼è½¬æ¢ï¼Œè¿™è¡¨ç¤ºä½ å¿…é¡»ä¿è¯ä½ ä¼ å…¥æ¨¡æ¿å‡½æ•°çš„å‚æ•°å¿…é¡»åŒ¹é…"></a><strong>æ¨¡æ¿å‚æ•°ä¸å…è®¸éšå¼è½¬æ¢</strong>ï¼Œè¿™è¡¨ç¤ºä½ å¿…é¡»ä¿è¯ä½ ä¼ å…¥æ¨¡æ¿å‡½æ•°çš„å‚æ•°<strong>å¿…é¡»</strong>åŒ¹é…</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function">T <span class="title">max</span><span class="params">(T a, T b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">max</span>(<span class="string">"hello"</span>, s);<span class="comment">// ä¸¥é‡é”™è¯¯ï¼Œä¸å…è®¸å°†const char[6]è½¬æ¢ä¸ºstd::stringæˆ–æ˜¯å°†std::stringè½¬æ¢ä¸ºconst char[6]</span></span><br><span class="line"><span class="built_in">max</span>(<span class="number">1</span>, <span class="number">42</span>);<span class="comment">//è°ƒç”¨int max(int, int)</span></span><br><span class="line"><span class="built_in">max</span>(<span class="string">'1'</span>, <span class="number">42</span>);<span class="comment">//ä¾æ—§è°ƒç”¨int max(int, int)ï¼Œå› ä¸ºæ¨¡æ¿å‡½æ•°ä¸å…è®¸éšå¼è½¬æ¢</span></span><br><span class="line"><span class="built_in">max</span>(<span class="number">1.0</span>, <span class="number">42.0</span>);<span class="comment">//è°ƒç”¨æ¨¡æ¿ï¼Œæ¨æ–­ä¸ºdouble max(double, double)</span></span><br><span class="line"><span class="built_in">max</span>(<span class="string">'1'</span>, <span class="string">'2'</span>);<span class="comment">//è°ƒç”¨æ¨¡æ¿ï¼Œæ¨æ–­ä¸ºchar max(char, char)</span></span><br><span class="line"><span class="built_in">max</span>&lt;&gt;(<span class="number">1</span>, <span class="number">42</span>);<span class="comment">//æ˜¾å¼æŒ‡å®šè°ƒç”¨æ¨¡æ¿å‡½æ•°ç‰¹ä¾‹int max(int, int)</span></span><br></pre></td></tr></table></figure><h3 id="const-amp-volatile-é™å®šç¬¦å°†è¢«å¿½ç•¥ï¼Œæ•°ç»„æˆ–è€…å‡½æ•°å°†è½¬æ¢ä¸ºæŒ‡é’ˆ"><a href="#const-amp-volatile-é™å®šç¬¦å°†è¢«å¿½ç•¥ï¼Œæ•°ç»„æˆ–è€…å‡½æ•°å°†è½¬æ¢ä¸ºæŒ‡é’ˆ" class="headerlink" title="const &amp; volatile é™å®šç¬¦å°†è¢«å¿½ç•¥ï¼Œæ•°ç»„æˆ–è€…å‡½æ•°å°†è½¬æ¢ä¸ºæŒ‡é’ˆ"></a>const &amp; volatile é™å®šç¬¦å°†è¢«å¿½ç•¥ï¼Œæ•°ç»„æˆ–è€…å‡½æ•°å°†è½¬æ¢ä¸ºæŒ‡é’ˆ</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function">T <span class="title">max</span><span class="params">(T a, T b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> b = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">int</span>&amp; c = b;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> arr[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">max</span>(a, b);<span class="comment">// Tæ¨æ–­ä¸ºint</span></span><br><span class="line"><span class="built_in">max</span>(b, b);<span class="comment">// Tæ¨æ–­ä¸ºint</span></span><br><span class="line"><span class="built_in">max</span>(a, c);<span class="comment">// Tæ¨æ–­ä¸ºint(cçš„consté™å®šç¬¦è¢«å¿½ç•¥)</span></span><br><span class="line"><span class="built_in">max</span>(&amp;a, arr);<span class="comment">// Tè¢«æ¨æ–­ä¸ºint*</span></span><br></pre></td></tr></table></figure><h3 id="è§£å†³ä¸åŒ¹é…æ–¹æ³•"><a href="#è§£å†³ä¸åŒ¹é…æ–¹æ³•" class="headerlink" title="è§£å†³ä¸åŒ¹é…æ–¹æ³•"></a>è§£å†³ä¸åŒ¹é…æ–¹æ³•</h3><ul><li>æ˜¾å¼è½¬æ¢å‚æ•°ç±»å‹ï¼š<strong>max(3.14ï¼Œ static_cast<double>(42))</strong></li><li>æŒ‡å®šTï¼š<strong>max<double>(1, 3.14)</strong></li><li>æ˜¾å¼è¦æ±‚ä½¿ç”¨æ¨¡æ¿ï¼š<strong>max&lt;&gt;(1, 42)</strong></li><li>ç”¨ä¸¤ä¸ªæ¨¡æ¿å‚æ•°æŒ‡å®šä¸åŒç±»å‹ï¼š<strong>template&lt;typename T1, typename T2&gt;</strong></li></ul><h2 id="æ¨¡æ¿è¿”å›å€¼ç±»å‹"><a href="#æ¨¡æ¿è¿”å›å€¼ç±»å‹" class="headerlink" title="æ¨¡æ¿è¿”å›å€¼ç±»å‹"></a>æ¨¡æ¿è¿”å›å€¼ç±»å‹</h2><h3 id="æ¨¡æ¿å‡½æ•°çš„è¿”å›å€¼ç±»å‹ä¸èƒ½è¢«æ¨æ–­ï¼Œå¿…é¡»æ˜¾å¼æŒ‡å®š"><a href="#æ¨¡æ¿å‡½æ•°çš„è¿”å›å€¼ç±»å‹ä¸èƒ½è¢«æ¨æ–­ï¼Œå¿…é¡»æ˜¾å¼æŒ‡å®š" class="headerlink" title="æ¨¡æ¿å‡½æ•°çš„è¿”å›å€¼ç±»å‹ä¸èƒ½è¢«æ¨æ–­ï¼Œå¿…é¡»æ˜¾å¼æŒ‡å®š"></a>æ¨¡æ¿å‡½æ•°çš„è¿”å›å€¼ç±»å‹ä¸èƒ½è¢«æ¨æ–­ï¼Œå¿…é¡»æ˜¾å¼æŒ‡å®š</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> RT, <span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</span><br><span class="line"><span class="function">RT <span class="title">max</span><span class="params">(T1 a, T2 b)</span></span>;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">max</span>(<span class="number">3.14</span>, <span class="number">42</span>);<span class="comment">// ä¸¥é‡é”™è¯¯ï¼Œæ— æ³•åˆ¤æ–­è¿”å›å€¼ç±»å‹</span></span><br><span class="line"><span class="built_in">max</span>&lt;<span class="keyword">double</span>&gt;(<span class="number">3.14</span>, <span class="number">42</span>);<span class="comment">// æ˜¾å¼æŒ‡å®šè¿”å›ç±»å‹ä¸ºdouble, T1å’ŒT2è¢«æ¨æ–­</span></span><br></pre></td></tr></table></figure><blockquote><p>C++14å…è®¸autoä½œä¸ºè¿”å›ç±»å‹ï¼Œå®ƒé€šè¿‡returnè¯­å¥æ¨æ–­è¿”å›ç±»å‹</p></blockquote><h3 id="å¦‚æœæ— æ³•æŒ‡å®šè¿”å›å€¼ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è·å¾—"><a href="#å¦‚æœæ— æ³•æŒ‡å®šè¿”å›å€¼ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è·å¾—" class="headerlink" title="å¦‚æœæ— æ³•æŒ‡å®šè¿”å›å€¼ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è·å¾—"></a>å¦‚æœæ— æ³•æŒ‡å®šè¿”å›å€¼ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è·å¾—</h3><ul><li><p>å°¾ç½®è¿”å›å€¼ç±»å‹(C++ 11)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</span><br><span class="line">auto max(T1 a, T2 b) -&gt; decltype(a &gt; b ? a : b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸‹é¢çš„å†™æ³•æ˜¯ä¸€æ ·çš„</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</span><br><span class="line">auto max(T1 a, T2 b) -&gt; decltype(true ? a : b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœTå¿…é¡»æ˜¯å¼•ç”¨ï¼Œä¸Šè¿°æ–¹æ³•åˆ™ä¼šå¼•å‘ run-time errorï¼Œè¿”å›ä¸€ä¸ªå±€éƒ¨å¼•ç”¨ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨ <a href="https://en.cppreference.com/w/cpp/types/decay" target="_blank" rel="noopener">std::decay</a> å»æ‰<strong>CVé™å®šç¬¦</strong>ï¼Œé€€åŒ–åˆ°æœ€åŸºæœ¬çš„ç±»å‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;type_traits&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</span><br><span class="line">auto max(T1 a, T2 b) -&gt; typename std::decay&lt;decltype(true ? a : b)&gt;::type</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>ä¹Ÿå¯ä»¥æŒ‡å®šè¿”å›ç±»å‹çš„é»˜è®¤å®å‚ï¼Œ<a href="https://en.cppreference.com/w/cpp/types/decay" target="_blank" rel="noopener">std::decay_t</a> èƒ½ä¿è¯ä¸è¿”å›å¼•ç”¨</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;type_traits&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2, <span class="keyword">typename</span> RT = <span class="built_in">std</span>::<span class="keyword">decay_t</span>&lt;<span class="keyword">decltype</span>(<span class="literal">true</span> ? T1() : T2())&gt;&gt;</span><br><span class="line">RT <span class="built_in">max</span>(T1 a, T2 b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>C++11æä¾›äº† <a href="https://en.cppreference.com/w/cpp/types/common_type" target="_blank" rel="noopener">std::common_type</a> æ¥ç¡®å®šä¸åŒç±»å‹ä¸­æœ€é€šç”¨çš„ç±»å‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;type_traits&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</span><br><span class="line"><span class="keyword">typename</span> <span class="built_in">std</span>::common_type&lt;T1, T2&gt;::<span class="function">type <span class="title">max</span><span class="params">(T1 a, T2 b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>C++14ä¸­èƒ½ç®€åŒ–è¿™ç§ç”¨æ³•</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2&gt;</span><br><span class="line">std::common_type_t&lt;T1, T2&gt; max(T1 a, T2 b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h2 id="éæ¨¡æ¿åŒåå‡½æ•°é‡è½½"><a href="#éæ¨¡æ¿åŒåå‡½æ•°é‡è½½" class="headerlink" title="éæ¨¡æ¿åŒåå‡½æ•°é‡è½½"></a>éæ¨¡æ¿åŒåå‡½æ•°é‡è½½</h2><h3 id="éæ¨¡æ¿å‡½æ•°å¿…é¡»åœ¨æ¨¡æ¿å‡½æ•°ä¹‹å‰å¯è§ï¼Œä¸ç„¶ä¼šç›´æ¥è°ƒç”¨æ¨¡æ¿å‡½æ•°"><a href="#éæ¨¡æ¿å‡½æ•°å¿…é¡»åœ¨æ¨¡æ¿å‡½æ•°ä¹‹å‰å¯è§ï¼Œä¸ç„¶ä¼šç›´æ¥è°ƒç”¨æ¨¡æ¿å‡½æ•°" class="headerlink" title="éæ¨¡æ¿å‡½æ•°å¿…é¡»åœ¨æ¨¡æ¿å‡½æ•°ä¹‹å‰å¯è§ï¼Œä¸ç„¶ä¼šç›´æ¥è°ƒç”¨æ¨¡æ¿å‡½æ•°"></a>éæ¨¡æ¿å‡½æ•°å¿…é¡»åœ¨æ¨¡æ¿å‡½æ•°ä¹‹å‰å¯è§ï¼Œä¸ç„¶ä¼šç›´æ¥è°ƒç”¨æ¨¡æ¿å‡½æ•°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…ˆå®šä¹‰æ¨¡æ¿å‡½æ•°</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function">T <span class="title">max</span><span class="params">(T a, T b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function">T <span class="title">max</span><span class="params">(T a, T b, T c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å¯¹ä¸‰ä¸ªå€¼è°ƒç”¨ä¸¤æ¬¡å–æœ€å¤§å€¼ï¼Œæ­¤æ—¶éæ¨¡æ¿å‡½æ•°ä¸å¯è§ï¼Œå¯¹äºintç±»å‹ä¾ç„¶è°ƒç”¨æ¨¡æ¿ç‰ˆæœ¬</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(<span class="built_in">max</span>(a, b), c); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">max</span>(<span class="number">1</span>, <span class="number">42</span>);<span class="comment">//æ­¤æ—¶int max(int, int)å¯è§ï¼Œè°ƒç”¨éæ¨¡æ¿å‡½æ•°</span></span><br><span class="line"><span class="built_in">max</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">42</span>);<span class="comment">//ä¾æ—§è°ƒç”¨æ¨¡æ¿å‡½æ•°</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;C-æœ‰å…³å‡½æ•°æ¨¡æ¿çš„ä¸€äº›ç¬”è®°&quot;&gt;&lt;a href=&quot;#C-æœ‰å…³å‡½æ•°æ¨¡æ¿çš„ä¸€äº›ç¬”è®°&quot; class=&quot;headerlink&quot; title=&quot;C++æœ‰å…³å‡½æ•°æ¨¡æ¿çš„ä¸€äº›ç¬”è®°&quot;&gt;&lt;/a&gt;C++æœ‰å…³å‡½æ•°æ¨¡æ¿çš„ä¸€äº›ç¬”è®°&lt;/h1&gt;&lt;h2 id=&quot;æ¨¡æ¿å®å‚æ¨æ–­&quot;&gt;&lt;a href=&quot;#æ¨¡æ¿å®å‚æ¨æ–­&quot; class=&quot;headerlink&quot; title=&quot;æ¨¡æ¿å®å‚æ¨æ–­&quot;&gt;&lt;/a&gt;æ¨¡æ¿å®å‚æ¨æ–­&lt;/h2&gt;
    
    </summary>
    
    
      <category term="CPP-æ¨¡æ¿" scheme="https://baka99.com/categories/CPP-%E6%A8%A1%E6%9D%BF/"/>
    
    
      <category term="CPP-å‡½æ•°æ¨¡æ¿" scheme="https://baka99.com/tags/CPP-%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF/"/>
    
  </entry>
  
  <entry>
    <title>éç±»å‹æ¨¡æ¿å‚æ•°</title>
    <link href="https://baka99.com/2020/04/20/%E9%9D%9E%E7%B1%BB%E5%9E%8B%E6%A8%A1%E6%9D%BF%E5%8F%82%E6%95%B0/"/>
    <id>https://baka99.com/2020/04/20/%E9%9D%9E%E7%B1%BB%E5%9E%8B%E6%A8%A1%E6%9D%BF%E5%8F%82%E6%95%B0/</id>
    <published>2020-04-21T04:17:50.577Z</published>
    <updated>2020-04-21T04:17:50.581Z</updated>
    
    <content type="html"><![CDATA[<h1 id="C-æœ‰å…³éç±»å‹æ¨¡æ¿å‚æ•°çš„ä¸€äº›ç¬”è®°"><a href="#C-æœ‰å…³éç±»å‹æ¨¡æ¿å‚æ•°çš„ä¸€äº›ç¬”è®°" class="headerlink" title="C++æœ‰å…³éç±»å‹æ¨¡æ¿å‚æ•°çš„ä¸€äº›ç¬”è®°"></a>C++æœ‰å…³éç±»å‹æ¨¡æ¿å‚æ•°çš„ä¸€äº›ç¬”è®°</h1><h2 id="éç±»å‹çš„ç±»æ¨¡æ¿å‚æ•°"><a href="#éç±»å‹çš„ç±»æ¨¡æ¿å‚æ•°" class="headerlink" title="éç±»å‹çš„ç±»æ¨¡æ¿å‚æ•°"></a>éç±»å‹çš„ç±»æ¨¡æ¿å‚æ•°</h2><a id="more"></a><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;array&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="built_in">std</span>::<span class="keyword">size_t</span> max_size&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">bucket</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    bucket() = <span class="keyword">default</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">const</span> T&amp; val)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (curr_size == arr.max_size())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">std</span>::out_of_range(<span class="string">"æ¡¶å·²ç»æ»¡äº†"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        arr[curr_size] = val;</span><br><span class="line">        ++curr_size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (curr_size == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="built_in">std</span>::out_of_range(<span class="string">"æ¡¶å·²ç»ç©ºäº†"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        --curr_size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [[nodiscard]] <span class="function">T <span class="title">peek</span><span class="params">()</span> <span class="keyword">const</span> <span class="keyword">noexcept</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> arr[curr_size<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [[nodiscard]] <span class="function"><span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="keyword">const</span> <span class="keyword">noexcept</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> curr_size == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [[nodiscard]] <span class="function"><span class="keyword">bool</span> <span class="title">full</span><span class="params">()</span> <span class="keyword">const</span> <span class="keyword">noexcept</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> curr_size == arr.max_size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [[nodiscard]] <span class="function"><span class="keyword">size_t</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> <span class="keyword">noexcept</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> curr_size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">array</span>&lt;T, max_size&gt; arr&#123;&#125;;</span><br><span class="line">    <span class="built_in">std</span>::<span class="keyword">size_t</span> curr_size&#123;&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‡å®šç±»å‹çš„åŒæ—¶éœ€è¦æŒ‡å®šå¤§å°</span></span><br><span class="line">bucket&lt;<span class="keyword">int</span>, <span class="number">20</span>&gt; int_bucket;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; ++i)</span><br><span class="line">&#123;</span><br><span class="line">    int_bucket.push(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(!int_bucket.empty())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; int_bucket.<span class="built_in">peek</span>() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    int_bucket.pop();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="éç±»å‹çš„å‡½æ•°æ¨¡æ¿å‚æ•°"><a href="#éç±»å‹çš„å‡½æ•°æ¨¡æ¿å‚æ•°" class="headerlink" title="éç±»å‹çš„å‡½æ•°æ¨¡æ¿å‚æ•°"></a>éç±»å‹çš„å‡½æ•°æ¨¡æ¿å‚æ•°</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">int</span> pad_val&gt;</span><br><span class="line"><span class="function">T <span class="title">pad</span><span class="params">(T x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> x + pad_val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec&#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> &#125;;</span><br><span class="line"><span class="function"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">pad_vec</span><span class="params">(<span class="number">4</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::transform(vec.<span class="built_in">begin</span>(), vec.<span class="built_in">end</span>(), pad_vec.<span class="built_in">begin</span>(), pad&lt;<span class="keyword">int</span>, <span class="number">42</span>&gt;);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i : pad_vec)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>ä¹Ÿå¯ä»¥ä½¿ç”¨æ¨æµ‹(æ¨æµ‹å‚ç…§å¿…é¡»å‡ºç°åœ¨æ¨æµ‹ä¹‹å‰)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">auto</span> pad_val, <span class="keyword">typename</span> T = <span class="keyword">decltype</span>(pad_val)&gt;</span><br><span class="line">T pad(T x)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> x + pad_val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æˆ–è€…æŒ‡å®šä¼ å€¼ç±»å‹ç›¸åŒ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, T pad_val = T&#123;&#125;&gt;</span><br><span class="line">T pad(T x)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> x + pad_val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="éç±»å‹æ¨¡æ¿å‚æ•°é™åˆ¶"><a href="#éç±»å‹æ¨¡æ¿å‚æ•°é™åˆ¶" class="headerlink" title="éç±»å‹æ¨¡æ¿å‚æ•°é™åˆ¶"></a>éç±»å‹æ¨¡æ¿å‚æ•°é™åˆ¶</h2><ul><li>éç±»å‹æ¨¡æ¿å‚æ•°å¯ä»¥æ˜¯ <strong>æ•´å½¢ï¼Œæšä¸¾å€¼ï¼Œåªæƒ³å¤–éƒ¨é“¾æ¥çš„æŒ‡é’ˆ</strong></li><li>éç±»å‹æ¨¡æ¿å‚æ•°ä¸å¯ä»¥æ˜¯ <strong>æµ®ç‚¹æ•°ï¼Œç±»å¯¹è±¡</strong></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">double</span> pad_val&gt;<span class="comment">// ä¸¥é‡é”™è¯¯ï¼Œä¸èƒ½æ˜¯æµ®ç‚¹æ•°</span></span><br><span class="line"><span class="function">T <span class="title">pad</span><span class="params">(T x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + pad_val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="built_in">std</span>::<span class="built_in">string</span> pad_str&gt;<span class="comment">// ä¸¥é‡é”™è¯¯ï¼Œä¸èƒ½æ˜¯ç±»å¯¹è±¡</span></span><br><span class="line"><span class="function">T <span class="title">pad</span><span class="params">(T x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + pad_str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>éç±»å‹æ¨¡æ¿å‚æ•°ä¸å¯ä»¥æ˜¯ <strong>å­—ç¬¦å­—é¢é‡ï¼Œä¸´æ—¶å¯¹è±¡ï¼Œæ•°æ®æˆå‘˜ï¼Œå…¶ä»–å­å¯¹è±¡çš„æ¨¡æ¿å®å‚</strong></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">const</span> <span class="keyword">char</span>* pad_str&gt;</span><br><span class="line"><span class="function">T <span class="title">pad</span><span class="params">(T x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + pad_str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">string</span> str = <span class="string">"42"</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span>* cc = <span class="string">"42"</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> ca[] = <span class="string">"42"</span>;</span><br><span class="line"></span><br><span class="line">str = pad&lt;<span class="built_in">std</span>::<span class="built_in">string</span>, <span class="string">"42"</span>&gt;(str);<span class="comment">// ä¸¥é‡é”™è¯¯</span></span><br><span class="line">str = pad&lt;<span class="built_in">std</span>::<span class="built_in">string</span>, cc&gt;(str);<span class="comment">// ä¸¥é‡é”™è¯¯</span></span><br><span class="line">str = pad&lt;<span class="built_in">std</span>::<span class="built_in">string</span>, ca&gt;(str);<span class="comment">// ä¸¥é‡é”™è¯¯</span></span><br></pre></td></tr></table></figure><ul><li><p>C++å„ä¸ªç‰ˆæœ¬å¯¹é™åˆ¶éƒ½æœ‰æ‰€æ”¾å®½</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++11åœ¨å…¨å±€ä½œç”¨åŸŸå£°æ˜external linkageå³å¯</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">char</span> str[] = <span class="string">"42"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// C++14åœ¨å…¨å±€ä½œç”¨åŸŸå£°æ˜internal linkageä¹Ÿå¯ä»¥</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> str[] = <span class="string">"42"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼Œå¿…é¡»æ˜¯ char str[]ï¼Œå¦‚æœæ”¹ä¸º char*åˆ™ä¸å¯ä»¥</span></span><br></pre></td></tr></table></figure></li><li><p>éæ¨¡æ¿ç±»å‹å‚æ•°å¯ä»¥æ˜¯ <strong>ç¼–è¯‘æœŸå¯ä»¥è·å¾—ç»“æœçš„è¡¨è¾¾å¼</strong></p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">int</span> pad_var = <span class="keyword">sizeof</span>(T)&gt;</span><br><span class="line">T pad(T x)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> x + pad_str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">42</span>;</span><br><span class="line">i = pad&lt;<span class="keyword">int</span>&gt;(i);</span><br><span class="line">i = pad&lt;<span class="keyword">int</span>, <span class="keyword">sizeof</span>(<span class="keyword">double</span>)&gt;(i);</span><br></pre></td></tr></table></figure><ul><li><p>å¦‚æœè¡¨è¾¾å¼å†…ä½¿ç”¨äº† &gt; å¤§äºå·ï¼Œåˆ™å¿…é¡»å¯¹è¡¨è¾¾å¼ä½¿ç”¨()ï¼Œé˜²æ­¢ &gt; è¢«å½“ä½œå³å°–æ‹¬å·</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">bool</span> b&gt;</span><br><span class="line"><span class="function">T <span class="title">pad</span><span class="params">(T x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> x + (b ? <span class="keyword">sizeof</span>(T) : <span class="keyword">sizeof</span>(<span class="keyword">double</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">42</span>;</span><br><span class="line">i = pad&lt;<span class="keyword">int</span>, (<span class="keyword">sizeof</span>(<span class="keyword">double</span>) &gt; <span class="keyword">sizeof</span>(<span class="keyword">int</span>))&gt;(i);</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure></li></ul><h2 id="autoéç±»å‹æ¨¡æ¿å‚æ•°"><a href="#autoéç±»å‹æ¨¡æ¿å‚æ•°" class="headerlink" title="autoéç±»å‹æ¨¡æ¿å‚æ•°"></a>autoéç±»å‹æ¨¡æ¿å‚æ•°</h2><ul><li>C++17å…è®¸ä½¿ç”¨autoæ¥æ”¶ä»»ä½•<strong>å…è®¸çš„éç±»å‹æ¨¡æ¿å‚æ•°</strong></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> max_size&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">bucket</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>C++14å…è®¸autoä½œä¸ºè¿”å›ç±»å‹</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[nodiscard]] <span class="function"><span class="keyword">auto</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> <span class="keyword">noexcept</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> curr_size;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½†æ˜¯autoä¾æ—§ä¸èƒ½æ¥æ”¶ <strong>const char*</strong></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span>  T, <span class="keyword">auto</span> pad_val&gt;</span><br><span class="line"><span class="function">T <span class="title">pad</span><span class="params">(T x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> x + <span class="keyword">sizeof</span>(pad_val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">42</span>;</span><br><span class="line">i = pad&lt;<span class="keyword">int</span>, <span class="number">42</span>&gt;(i);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;C-æœ‰å…³éç±»å‹æ¨¡æ¿å‚æ•°çš„ä¸€äº›ç¬”è®°&quot;&gt;&lt;a href=&quot;#C-æœ‰å…³éç±»å‹æ¨¡æ¿å‚æ•°çš„ä¸€äº›ç¬”è®°&quot; class=&quot;headerlink&quot; title=&quot;C++æœ‰å…³éç±»å‹æ¨¡æ¿å‚æ•°çš„ä¸€äº›ç¬”è®°&quot;&gt;&lt;/a&gt;C++æœ‰å…³éç±»å‹æ¨¡æ¿å‚æ•°çš„ä¸€äº›ç¬”è®°&lt;/h1&gt;&lt;h2 id=&quot;éç±»å‹çš„ç±»æ¨¡æ¿å‚æ•°&quot;&gt;&lt;a href=&quot;#éç±»å‹çš„ç±»æ¨¡æ¿å‚æ•°&quot; class=&quot;headerlink&quot; title=&quot;éç±»å‹çš„ç±»æ¨¡æ¿å‚æ•°&quot;&gt;&lt;/a&gt;éç±»å‹çš„ç±»æ¨¡æ¿å‚æ•°&lt;/h2&gt;
    
    </summary>
    
    
      <category term="CPP-æ¨¡æ¿" scheme="https://baka99.com/categories/CPP-%E6%A8%A1%E6%9D%BF/"/>
    
    
      <category term="CPP-éç±»å‹å‚æ•°æ¨¡æ¿" scheme="https://baka99.com/tags/CPP-%E9%9D%9E%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%E6%A8%A1%E6%9D%BF/"/>
    
  </entry>
  
</feed>
